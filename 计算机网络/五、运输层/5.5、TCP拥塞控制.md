### 1、拥塞
+ 在某段时间内，若对某网络中的某一资源的需求超过了该资源所提供的可用部分，网络性能就要变坏。这种情况就叫拥塞
	+ 网络的资源有：链路容量（宽带），交换结点的缓存处理都叫资源
+ 若出现拥塞而不进行控制，整个网络中的吞吐量都将随着负荷的增大而下降
	+ ![换算单位](计算机网络/imgs/5.5(1).png)
+ 输入负载：输入网络的数量
+ 吞吐量：从网络输出的数量
### 2、TCP四种控制拥塞算法
+ 模拟前提：
+ 拥塞窗口（cwnd）：即发送窗口，这个是一个变量，随网络拥塞程度，以及拥塞控制算法动态变化
	+ 拥塞窗口的维护原则：只要网络没有出现拥塞，拥塞窗口就会再大一些，但只要网络出现拥塞，拥塞窗口就减少一些
	+ 判断依据：没用按时收到确认报文段（即超时重传）
	+ 发送窗口swnd=拥塞窗口cwnd
![换算单位](计算机网络/imgs/5.5(2).png)
1. **慢开始**
	+ 原理就是不断的试探，接收窗口最大为多少
	+ 慢开始门限，sstrength=x，即窗口门限值
	+ 假设开始的拥塞窗口cwnd为1，那么当前发送窗口为1这时候发送方发送报文段为1的报文，接收方接收并发回1的确认报文段后，cwnd窗口变大为1\*2的窗口，即这时候发送1和2的报文段，当接收方收到并发回1和2的确认报文段后，cwnd窗口变大为2\*2的窗口，即为4，同理当cwnd大于等于sstrength时候，cwnd窗口增大速率改变，改变为每次+1，若这时候发送的报文段丢失，那么sstrength/=2；且cwnd初始化为1，再反复如此。
2. **拥塞避免**
	+ ![换算单位](计算机网络/imgs/5.5(3).png)
	+ 拥塞避免就是慢开始的时候当cwnd=sstrength的时候，为了避免报文丢失那么就减小拥塞窗口的增大
3. **快重传**
	+ 慢开始算法有一个缺陷，即有时个别的报文段会在网络中丢失，但实际上并未发送网络拥塞，而这会导致发送方误认为发生了拥塞，即减少了发送速率，这样造成了资源浪费，降低了效率
	+ 快重传就是使发送发尽快的重传丢失的报文段
	+ 快重传要求接收方不要等自己发送数据时才进行捎带重传，而是立即发送确认报文
	+ 即使收到了失序的报文段也要立即发送对已收到的报文段重复确认
	+ 发送方一旦收到连续的三个确认，就将相应的报文段立即重传，而不是等超时计时器
	+ 也就是说，当发送方发送了一个报文段但丢失了不会停止发送而是继续发送，接收方接收到不是按顺序的报文段，会持续发送发生乱序的那个报文段即为那个丢失的报文段之前的序号，例如3丢了，接受发会发送一个2的确认报文端，但后面的4，5，6报文段来了，接收方会接收但不会发送6的确认报文，而是持续发送2的确认报文即有三个，接收方收到后，立即发送3，当接收方收到后，发送6的确认报文段，即确定6之前的报文全部收到
4. **快恢复**
	+ 发送发收到连续三个的重复确认就知道丢失了个别报文段，于是不启动慢开始而是快恢复
	+ 发送发将慢开始门限sstrength与拥塞窗口cwnd调整为当前的一半：开始执行拥塞避免算法，不一定是+1，有可能是+3；
	+ ![换算单位](计算机网络/imgs/5.5(4).png)